
:imagesdir: ./images

= Practica formativa semana 4

Problema
Tenemos el siguiente esquema relacional de base de datos:

* CLIENTE (NCliente, Nombre, Direcci√≥n, Tel√©fono, CP)
* PRODUCTO (CodProducto, Descripci√≥n, Precio)
* VENTA (IdVenta, CodProducto, NCliente, Cantidad)

La tabla de cliente almacena informaci√≥n sobre cada posible cliente de nuestra empresa.

En la tabla de producto almacenamos informaci√≥n sobre cada producto de la empresa.

La tabla de ventas relaciona a las dos anteriores utilizando el atributo CodProducto para indicar el producto que se venda, y el atributo NCliente para indicar el cliente al que vendimos el producto.

==  1) Resolver utilizando √°lgebra relacional y explicar de manera coloquial el razonamiento.

*a) Indicar el c√≥digo y descripci√≥n de los productos cuyo precio superen los $ 1500*

. A la relaci√≥n PRODUCTO (P) le aplico una selecci√≥n con la condici√≥n "precio mayor 1500" y proyecto los atributos codProducto y descripci√≥n

 ùö∑ codProducto, descripcion ( ùõî precio > 1500 (P) )

*b) Mostrar la descripci√≥n del producto de aquellos productos que vendieron m√°s de 500 unidades*

. A las relaciones PRODUCTO (P) y VENTA (V) les aplico un producto cartesiano natural a trav√©s del atributo com√∫n CodProducto (V.CodProducto y P.CodProducto)  y obtengo una nueva relaci√≥n con atributos P.CodProducto, P.Descripci√≥n, P.Precio, V.IdVenta, V.CodProducto, V.NCliente, V.Cantidad
. A la relaci√≥n anterior aplico una selecci√≥n con condici√≥n "P.Cantidad mayor a 500" y proyecto el atributo P.descripcion

 ùö∑ descripcion ( ùõî cantidad > 500 (V ‚ãà P) )

*c) Mostrar el identificador de las ventas cuya cantidad supera a la cantidad vendida en la venta n√∫mero 18*

. A la relaci√≥n Venta (V) proyecto el atributo V.IdVenta seleccionado la tupla con IdVenta = 18, creando una nueva relaci√≥n R
. Realizo un producto cartesiano entre relaci√≥n obtenida en el punto anterior \(R) y la relaci√≥n venta (V) obteniendo nueva relaci√≥n con los atributos V.IdVenta, V.CodProducto, V.NCliente, V.cantidad y R.Cantidad obteniendo una nueva relaci√≥n.
. De la relaci√≥n anterior selecciono las tuplas con la condici√≥n V.cantidad > R.cantidad y proyecto el atributo V.IdVenta 

 R = ùö∑ cantidad ( ùõî idVenta = 18 V)
 ùö∑ idVenta ( ùõî V.cantidad > R.cantidad (V x R) )

*d) Mostrar los productos que se han vendido en la zona de c√≥digo 1480*

. Aplico producto cartesiano natural sobre las relaciones Venta (V) y Cliente \(C) a trav√©s del atributo NCliente (V.NCliente=C.NCliente) obteniendo una nueva relaci√≥n
. A la relaci√≥n anterior le aplico una proyecci√≥n sobre el el atributo V.CodProducto y selecciono las tuplas que cumplen con la condici√≥n C.CP=1480
 
 ùö∑ CodProducto (ùõî CP = 1480 (V ‚ãà C) )

*e) Mostrar los identificadores de venta en los que no participo el cliente Marta Olmos*

. Aplico producto cartesiano natural sobre las relaciones Venta (V) y Cliente \(C) a trav√©s del atributo NCliente (V.NCliente=C.NCliente) obteniendo una nueva relaci√≥n
. A la relaci√≥n obtenida aplico la proyecci√≥n sobre los atributos V.IdVenta seleccionando las tuplas con la condici√≥n C.Nombre != Marta Olmos

  ùö∑ IdVenta (ùõî Nombre != Marta Olmos (V ‚ãà C) )


*f) Mostrar la descripci√≥n de los productos cuyo precio sea de $ 2000*

. De la relaci√≥n PRODUCTO (P) proyecto el atributo P.descripcion y selecciono las tuplas con la condici√≥n "P.precio > 2000"

  ùö∑ descripcion (ùõî precio > 2000 (P) )

*g) Mostrar los nombres de los clientes junto a su tel√©fono*

. De la relaci√≥n CLIENTES (C) proyecto los atributos C.Nombre y C.Telefono

  ùö∑ nombre, telefono (C)

*h) Mostrar la descripci√≥n y precio de los productos cuyo identificador de venta es menor a 65*

. Hago producto cartesiano natural entre las relaciones PRODUCTOS (P) y VENTAS (V) con el atributo en com√∫n CodProducto (P.CodProducto = V.CodProducto) y obtengo una nueva relaci√≥n
. De la relaci√≥n obtenida en punto anterior proyecto los atributos P.descripci√≥n y P.Precio seleccionando las tupas cuya condici√≥n sea "V.IdVenta < 65" 

 ùö∑ descripcion, precio (ùõî IdVenta < 65 (V ‚ãà P) )

==  2) Resolver utilizando SQL 

*a) Mostrar la descripci√≥n de los productos cuyo precio sea de $ 2000.*

 Select descripcion from productos where precio=2000

*b) Mostrar los nombres de los clientes junto a su tel√©fono.*

 Select nombre, telefono from clientes 

*c) Mostrar la descripci√≥n y precio de los productos cuyo identificador de venta es menor a 65.*

 Select descripcion, precio 
  from productos p inner join ventas v on p.CodProducto = v.CodProducto
  where idVenta<65